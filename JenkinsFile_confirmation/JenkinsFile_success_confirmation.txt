Started by user Ayana Elan Manoj
17:51:48 Connecting to https://api.github.com with no credentials, anonymous access
17:51:49 Jenkins-Imposed API Limiter: Current quota for Github API usage has 20 remaining (1 over budget). Next quota of 60 in 9 min 51 sec. Sleeping for 4 min 30 sec.
17:51:49 Jenkins is attempting to evenly distribute GitHub API requests. To configure a different rate limiting strategy, such as having Jenkins restrict GitHub API requests only when near or above the GitHub rate limit, go to "GitHub API usage" under "Configure System" in the Jenkins settings.
ERROR: Could not do lightweight checkout, falling back to heavyweight
java.lang.InterruptedException: sleep interrupted
	at java.base/java.lang.Thread.sleep(Native Method)
	at PluginClassLoader for github-branch-source//org.jenkinsci.plugins.github_branch_source.ApiRateLimitChecker$LocalChecker.waitUntilRateLimit(ApiRateLimitChecker.java:325)
	at PluginClassLoader for github-branch-source//org.jenkinsci.plugins.github_branch_source.ApiRateLimitChecker$LocalChecker.checkRateLimit(ApiRateLimitChecker.java:271)
	at PluginClassLoader for github-branch-source//org.jenkinsci.plugins.github_branch_source.ApiRateLimitChecker$RateLimitCheckerAdapter.checkRateLimit(ApiRateLimitChecker.java:244)
	at PluginClassLoader for github-api//org.kohsuke.github.GitHubRateLimitChecker.checkRateLimit(GitHubRateLimitChecker.java:144)
Caused: java.io.InterruptedIOException: sleep interrupted
	at PluginClassLoader for github-api//org.kohsuke.github.GitHubRateLimitChecker.checkRateLimit(GitHubRateLimitChecker.java:158)
	at PluginClassLoader for github-api//org.kohsuke.github.GitHubClient.sendRequest(GitHubClient.java:460)
Caused: org.kohsuke.github.HttpException: Server returned HTTP response code: -1, message: 'null' for URL: https://api.github.com/repos/ayana-manoj/ClinVar_Search/contents/Jenkinsfile?ref=ed121dd75811e8998268aafcbaa6720574399c5d
	at PluginClassLoader for github-api//org.kohsuke.github.GitHubClient.interpretApiError(GitHubClient.java:745)
	at PluginClassLoader for github-api//org.kohsuke.github.GitHubClient.sendRequest(GitHubClient.java:480)
	at PluginClassLoader for github-api//org.kohsuke.github.GitHubClient.sendRequest(GitHubClient.java:427)
	at PluginClassLoader for github-api//org.kohsuke.github.Requester.fetch(Requester.java:85)
	at PluginClassLoader for github-api//org.kohsuke.github.GHRepository.getFileContent(GHRepository.java:2693)
	at PluginClassLoader for github-branch-source//org.jenkinsci.plugins.github_branch_source.GitHubSCMFile.metadata(GitHubSCMFile.java:110)
	at PluginClassLoader for github-branch-source//org.jenkinsci.plugins.github_branch_source.GitHubSCMFile.content(GitHubSCMFile.java:186)
	at PluginClassLoader for scm-api//jenkins.scm.api.SCMFile.contentAsString(SCMFile.java:335)
	at PluginClassLoader for workflow-multibranch//org.jenkinsci.plugins.workflow.multibranch.SCMBinder.create(SCMBinder.java:113)
	at PluginClassLoader for workflow-job//org.jenkinsci.plugins.workflow.job.WorkflowRun.run(WorkflowRun.java:317)
	at hudson.model.ResourceController.execute(ResourceController.java:101)
	at hudson.model.Executor.run(Executor.java:460)
Checking out git https://github.com/ayana-manoj/ClinVar_Search.git into /var/lib/jenkins/workspace/ClinVar_Search_Sprint3@script/9afca34a6eb759362b7c69b02e14c8b5516ef8ab5bf7239e051be9e33f0b5666 to read Jenkinsfile
Selected Git installation does not exist. Using Default
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/ClinVar_Search_Sprint3@script/9afca34a6eb759362b7c69b02e14c8b5516ef8ab5bf7239e051be9e33f0b5666/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ayana-manoj/ClinVar_Search.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ayana-manoj/ClinVar_Search.git
 > git --version # timeout=10
 > git --version # 'git version 2.34.1'
 > git fetch --no-tags --force --progress -- https://github.com/ayana-manoj/ClinVar_Search.git +refs/heads/Sprint3:refs/remotes/origin/Sprint3 # timeout=10
Checking out Revision ed121dd75811e8998268aafcbaa6720574399c5d (Sprint3)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f ed121dd75811e8998268aafcbaa6720574399c5d # timeout=10
Commit message: "Update .coveragerc"
 > git rev-list --no-walk f0d2224fb2b54ae0e00fda6704cfc8b275df9b90 # timeout=10
[Pipeline] Start of Pipeline
[Pipeline] node
Running on Jenkins in /var/lib/jenkins/workspace/ClinVar_Search_Sprint3
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
Selected Git installation does not exist. Using Default
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/ClinVar_Search_Sprint3/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ayana-manoj/ClinVar_Search.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ayana-manoj/ClinVar_Search.git
 > git --version # timeout=10
 > git --version # 'git version 2.34.1'
 > git fetch --no-tags --force --progress -- https://github.com/ayana-manoj/ClinVar_Search.git +refs/heads/Sprint3:refs/remotes/origin/Sprint3 # timeout=10
Checking out Revision ed121dd75811e8998268aafcbaa6720574399c5d (Sprint3)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f ed121dd75811e8998268aafcbaa6720574399c5d # timeout=10
Commit message: "Update .coveragerc"
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Checkout)
[Pipeline] checkout
Selected Git installation does not exist. Using Default
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/ClinVar_Search_Sprint3/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ayana-manoj/ClinVar_Search.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ayana-manoj/ClinVar_Search.git
 > git --version # timeout=10
 > git --version # 'git version 2.34.1'
 > git fetch --no-tags --force --progress -- https://github.com/ayana-manoj/ClinVar_Search.git +refs/heads/Sprint3:refs/remotes/origin/Sprint3 # timeout=10
Checking out Revision ed121dd75811e8998268aafcbaa6720574399c5d (Sprint3)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f ed121dd75811e8998268aafcbaa6720574399c5d # timeout=10
Commit message: "Update .coveragerc"
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Setup Conda Environment)
[Pipeline] sh
CI detected...
2 channel Terms of Service accepted

Remove all packages in environment /var/lib/jenkins/.conda/envs/clinvar_search:


## Package Plan ##

  environment location: /var/lib/jenkins/.conda/envs/clinvar_search


The following packages will be REMOVED:

  _libgcc_mutex-0.1-conda_forge
  _openmp_mutex-4.5-2_gnu
  aniso8601-10.0.0-pyhd8ed1ab_0
  attrs-25.4.0-pyhcf101f3_1
  backports.zstd-1.3.0-py312h90b7ffd_0
  blinker-1.9.0-pyhff2d567_0
  brotli-python-1.2.0-py312hdb49522_1
  bzip2-1.0.8-hda65f42_8
  ca-certificates-2026.1.4-hbd8a1cb_0
  certifi-2026.1.4-pyhd8ed1ab_0
  charset-normalizer-3.4.4-pyhd8ed1ab_0
  click-8.3.1-pyh8f84b5b_1
  colorama-0.4.6-pyhd8ed1ab_1
  coverage-7.13.1-py312h8a5da7c_0
  dicttoxml-1.7.16-pyhd8ed1ab_1
  exceptiongroup-1.3.1-pyhd8ed1ab_0
  flask-3.1.2-pyhd8ed1ab_0
  flask-restx-1.3.0-pyhd8ed1ab_1
  h2-4.3.0-pyhcf101f3_0
  hpack-4.1.0-pyhd8ed1ab_0
  hyperframe-6.1.0-pyhd8ed1ab_0
  icu-78.1-h33c6efd_0
  idna-3.11-pyhd8ed1ab_0
  importlib-metadata-8.7.0-pyhe01879c_1
  importlib-resources-6.5.2-pyhd8ed1ab_0
  importlib_resources-6.5.2-pyhd8ed1ab_0
  iniconfig-2.3.0-pyhd8ed1ab_0
  itsdangerous-2.2.0-pyhd8ed1ab_1
  jinja2-3.1.6-pyhcf101f3_1
  jsonschema-4.25.1-pyhe01879c_0
  jsonschema-specifications-2025.9.1-pyhcf101f3_0
  ld_impl_linux-64-2.45-default_hbd61a6d_105
  libexpat-2.7.3-hecca717_0
  libffi-3.5.2-h9ec8514_0
  libgcc-15.2.0-he0feb66_16
  libgcc-ng-15.2.0-h69a702a_16
  libgomp-15.2.0-he0feb66_16
  liblzma-5.8.1-hb9d3cd8_2
  libnsl-2.0.1-hb9d3cd8_1
  libsqlite-3.51.1-hf4e2dac_1
  libstdcxx-15.2.0-h934c35e_16
  libuuid-2.41.3-h5347b49_0
  libxcrypt-4.4.36-hd590300_1
  libzlib-1.3.1-hb9d3cd8_2
  markupsafe-3.0.3-py312h8a5da7c_0
  ncurses-6.5-h2d0b736_3
  openssl-3.6.0-h26f9b46_0
  packaging-25.0-pyh29332c3_1
  pip-25.3-pyh8b19718_0
  pluggy-1.6.0-pyhf9edf01_1
  pygments-2.19.2-pyhd8ed1ab_0
  pysocks-1.7.1-pyha55dd90_7
  pytest-9.0.2-pyhcf101f3_0
  pytest-cov-7.0.0-pyhcf101f3_1
  python-3.12.8-h9e4cc4f_1_cpython
  python-dateutil-2.9.0.post0-pyhe01879c_2
  python_abi-3.12-8_cp312
  pytz-2025.2-pyhd8ed1ab_0
  readline-8.3-h853b02a_0
  referencing-0.37.0-pyhcf101f3_0
  requests-2.32.5-pyhcf101f3_1
  rpds-py-0.30.0-py312h868fb18_0
  setuptools-80.9.0-pyhff2d567_0
  six-1.17.0-pyhe01879c_1
  tk-8.6.13-noxft_ha0e22de_103
  tomli-2.3.0-pyhcf101f3_0
  typing_extensions-4.15.0-pyhcf101f3_0
  tzdata-2025c-hc9c84f9_1
  urllib3-2.6.2-pyhd8ed1ab_0
  werkzeug-3.1.4-pyhcf101f3_0
  wheel-0.45.1-pyhd8ed1ab_1
  zipp-3.23.0-pyhcf101f3_1
  zstd-1.5.7-hb78ec9c_6



Downloading and Extracting Packages: ...working... done
Preparing transaction: - done
Verifying transaction: | done
Executing transaction: - \ | / done
CI detected...
2 channel Terms of Service accepted
Channels:
 - conda-forge
 - bioconda
 - defaults
Platform: linux-64
Collecting package metadata (repodata.json): - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | done
Solving environment: - \ done


==> WARNING: A newer version of conda exists. <==
    current version: 25.7.0
    latest version: 25.11.1

Please update conda by running

    $ conda update -n base -c defaults conda



Downloading and Extracting Packages: ...working... done
Preparing transaction: / - \ | done
Verifying transaction: - \ | / - \ | / - \ | / - \ | / - \ | done
Executing transaction: - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | / - \ | done
#
# To activate this environment, use
#
#     $ conda activate clinvar_search
#
# To deactivate an active environment, use
#
#     $ conda deactivate

[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Install Package)
[Pipeline] sh
Obtaining file:///var/lib/jenkins/workspace/ClinVar_Search_Sprint3
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Checking if build backend supports build_editable: started
  Checking if build backend supports build_editable: finished with status 'done'
  Getting requirements to build editable: started
  Getting requirements to build editable: finished with status 'done'
  Preparing editable metadata (pyproject.toml): started
  Preparing editable metadata (pyproject.toml): finished with status 'done'
Requirement already satisfied: setuptools==80.9.0 in /var/lib/jenkins/.conda/envs/clinvar_search/lib/python3.12/site-packages (from clinvar_query==0.0.1) (80.9.0)
Requirement already satisfied: wheel==0.45.1 in /var/lib/jenkins/.conda/envs/clinvar_search/lib/python3.12/site-packages (from clinvar_query==0.0.1) (0.45.1)
Building wheels for collected packages: clinvar_query
  Building editable for clinvar_query (pyproject.toml): started
  Building editable for clinvar_query (pyproject.toml): finished with status 'done'
  Created wheel for clinvar_query: filename=clinvar_query-0.0.1-0.editable-py3-none-any.whl size=29735 sha256=b17bb53193226a8e49d288bc9fce244c39089fbd9f422456efc3064ca4a1cee3
  Stored in directory: /tmp/pip-ephem-wheel-cache-jxa7bgnz/wheels/be/e0/65/035b0c6fc04f12282f54fccd4499bd7529285e4b46dece380d
Successfully built clinvar_query
Installing collected packages: clinvar_query
Successfully installed clinvar_query-0.0.1
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Run Tests)
[Pipeline] sh
============================= test session starts ==============================
platform linux -- Python 3.12.8, pytest-9.0.2, pluggy-1.6.0
rootdir: /var/lib/jenkins/workspace/ClinVar_Search_Sprint3
configfile: pyproject.toml
plugins: cov-7.0.0
collected 74 items

tests/test_clinvar_api_query.py ............                             [ 16%]
tests/test_database_init.py ...                                          [ 20%]
tests/test_file_check.py ....                                            [ 25%]
tests/test_insert_annotated_results.py ...                               [ 29%]
tests/test_json_to_db.py .........                                       [ 41%]
tests/test_parser.py ............                                        [ 58%]
tests/test_patient_lookup.py ......                                      [ 66%]
tests/test_process_upload.py .......                                     [ 75%]
tests/test_read_upload.py .....                                          [ 82%]
tests/test_save_function.py ....                                         [ 87%]
tests/test_search_results.py ..                                          [ 90%]
tests/test_setup_results.py .                                            [ 91%]
tests/test_vv_variant_query.py ......                                    [100%]

================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.8-final-0 ________________

Name                                                Stmts   Miss Branch BrPart  Cover   Missing
-----------------------------------------------------------------------------------------------
clinvar_query/ClinVar_Site/__init__.py                 27     16      0      0    41%   14-38
clinvar_query/ClinVar_Site/app.py                       5      5      2      0     0%   1-7
clinvar_query/ClinVar_Site/routes/main_routes.py        9      2      0      0    78%   9, 21
clinvar_query/ClinVar_Site/routes/results.py           20      8      0      0    60%   26-38, 45, 50
clinvar_query/ClinVar_Site/routes/search_site.py       13      7      2      0    40%   27-39
clinvar_query/ClinVar_Site/routes/upload.py            48     30      8      0    32%   33-36, 41-78, 84-94, 99-103
clinvar_query/__init__.py                               0      0      0      0   100%
clinvar_query/main.py                                   0      0      0      0   100%
clinvar_query/modules/__init__.py                       0      0      0      0   100%
clinvar_query/modules/check_file_status.py             19      2      4      0    91%   26-27
clinvar_query/modules/clinvar_api_query.py             84      3     16      2    95%   155-156, 216
clinvar_query/modules/insert_annotated_results.py      47     12      0      0    74%   73-78, 131-135, 169-175, 215-219
clinvar_query/modules/json_to_db.py                    97      1     38     10    92%   127->133, 135->145, 136->145, 138->136, 163->169, 182->180, 193->214, 195->214, 198->195, 275
clinvar_query/modules/parser.py                        40      1     14      1    96%   27
clinvar_query/modules/patient_lookup.py                29      4      6      3    80%   47-48, 50->54, 66, 76
clinvar_query/modules/process_uploads.py               30      3     18      5    83%   23, 41-42, 59->65, 65->exit, 71->exit
clinvar_query/modules/read_uploads.py                  17      3      4      1    81%   24, 31-32
clinvar_query/modules/save_function.py                 22      2      2      0    92%   38-39
clinvar_query/modules/search_results.py                26      4      8      2    82%   33, 48-50, 53->55
clinvar_query/modules/setup_results.py                 18      2      2      1    85%   17->20, 54-55
clinvar_query/modules/vv_variant_query.py              64      5     12      2    91%   130-131, 184-186
clinvar_query/utils/__init__.py                         0      0      0      0   100%
clinvar_query/utils/__main__.py                         0      0      0      0   100%
clinvar_query/utils/database_initialisation.py         13      2      2      0    87%   21-22
clinvar_query/utils/logger.py                          23      1      2      1    92%   39
clinvar_query/utils/messages.py                         3      1      0      0    67%   18
clinvar_query/utils/paths.py                           16      1      0      0    94%   31
-----------------------------------------------------------------------------------------------
TOTAL                                                 670    115    140     28    81%
============================== 74 passed in 2.69s ==============================
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Declarative: Post Actions)
[Pipeline] echo
CI pipeline finished.
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS
